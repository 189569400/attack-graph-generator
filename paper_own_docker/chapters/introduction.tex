\section{INTRODUCTION}

%intro about the new paradiagm of mirocservices its benefits and new oppurnties, maybe its utilization in secuirty/ safety critical systems
Microservices, a recent approach to manage the complexity of modern applications, are increasingly adopted in real-world systems. The new architectural style follows the foundational principle of Unix that decomposes systems into small programs \cite{wolff2016microservices}, each fulfills only one cohesive task and can work together using universal interfaces. Each program is a microservice that is designed, developed, tested,  deployed, and scaled independently \cite{microservicesfrowler}. The smaller decoupled services have a positive impact on some system qualities like scalability, fault isolation, and technology heterogeneity \cite{newman2015building}. However, other qualities like the network utilization and the security can be negatively affected \cite{ahmadvand2016requirements}.  Balancing the trade-off among these factors derive the decision of using microservices in industry. That said, a none-exhaustive list \footnote{\url{https://microservices.io/articles/whoisusingmicroservices.html}} shows a significant shift by many enterprises across different domains towards using microservice-based architecture. This shift is motivated mainly by the demanding requirements of scalability, time to market, and better optimization of development efforts. We see microservice-based systems in domains of video streaming, social networks, logistics, Internet of things \cite{butzin2016microservices}, smart cities \cite{krylovskiy2015designing}, and security-critical systems \cite{fetzer2016building}. 

% the new tools or eco system of this style, especially container based deployment... the benefits of it and the challanges brought by it, like open source utilization and scurity overhead brought by networks and docker security issues. 
The utilization of microservices has popularized two main concepts in the software engineering community. The first is the \textit{container-based deployment}, in which the new small services are shipped and deployed in containers \cite{jaramillo2016leveraging}. As a result, the systems are deployed as networks of communicating microservices. For their lightweight and operating-system level virtualization \cite{bottomely}, the containerization frameworks like \textit{Docker} \cite{cerny2018contextual}, are a high-performance  alternative to hypervisors \cite{kratzke2017microservices}. The second often-used concept in the domain of microservices development is \textit{DevOps} \cite{cerny2018contextual}. \textit{DevOps} enable practices in which full automation of the deployment process is achieved. In the course of this, end-to-end automated packaging and deployment is a vital part of microservices development. In addition to the agility and optimization brought by the two concepts, significant concerns around their impact on security \cite{ahmadvand2016requirements} arise. These concerns are motivated by the increasing communication end-points among the microservices, the potentially growing number of vulnerabilities emerging from open-source DevOps tools and third-party frameworks distributed by Docker hub \cite{shu2017study,gummaraju2015over}, and the weaker isolation (than hypervisor-based virtualization) between the host and the container since all containers share the same kernel \cite{bottomely, bui2015analysis}. In this paper, we tackle the problem of analyzing the security of the container networks using threat models \cite{kordy2014dag}. Following the DevOps mentality, we propose an automated method that can be integrated into continuous delivery systems to generate attack graphs.


% threat modeling as a way to systmatically analyze threats... its benefits and obstecales, ag as an example especially for newtorked systems... the mapping between container based and network applications... and the progress there. 

Security threat models are widely used to assess threats facing a system \cite{kordy2014dag}. Not only are they appealing to the practitioners as they provide a visual presentation of possible attack paths on a system, but also to scientists, since they are well formalized (syntax and semantics \cite{mauw2005foundations,jha2002two}). Such formalism enables quantitative and qualitative analysis of the risk, cost, and likelihood of the attacks, which affect the defense strategy. In computer networks, attack graphs \cite{sheyner2002automated,ou2006scalable} are the dominant threat model to inspect the security aspects of a network. They help analysts to carefully analyze system connections and detect the most vulnerable parts of the system. An attack graph depicts the actions that an attacker may use to reach their goal. Typically, experts (e.g., red teams) manually construct attack graphs. The manual process is time-consuming, error-prone and does not address the complexity of modern infrastructure.  %Within the last 15 years, there have been some proposals of approaches [e.g., 5-9] to automate the generation of attack graphs and attack trees in the domain of network security.


% the problem: summing it up and the solution
% the potentisl benefit in the scope of devops practices and automation (automation should be mentioned before)
% contribution  focus on docker and MS in comparison with networks and normal systems and maybe the github
Previous work has dealt with automatic attack graph generation, exclusively in computer networks \cite{ingols2006practical, sheyner2002automated, ou2006scalable}. In these networks, an attacker performs multiple steps to achieve his goal, e.g., gaining privileges of a specific host. Tools that scan the vulnerabilities of a particular host are available \cite{farmer1990cops}, but they are not sufficient to analyze the security of an entire network, and the possible composition of various vulnerability exploitation as an attack path \cite{sheyner2002automated}. 

To the best of our knowledge, an automated attack graph generation for microservice architectures was not tackled by any previous work. To that end, in this paper, we extend the advancement made in the computer networks field to the domain of microservices. Therefore the contribution of this paper is as follows.
\begin{itemize}
	\item We propose attack graphs as a new artifact of the continuous delivery systems. We present an approach, based on methods from computer networks, to automatically generate attack graphs for microservice-based architectures that are deployed as containers.   
	\item We present the technical details of an extensible tool that implements our approach. The tool is available online \footnote{The link is omitted for anonymization  purpose}.
	\item An empirical evaluation of the efficiency of our tool in generating attack graphs of real-world systems.
\end{itemize}



% structure 

The structure of this paper is as follows. We introduce the preliminaries needed for this paper in Section \ref{chap:background}. We, then, present our approach in Section \ref{chap:method}, and its evaluation in Section \ref{chap:eval}. We discuss related work in Section \ref{chap:related_work}. Lastly, conclusions and future work are discussed in Section \ref{chap:conclusion}.

